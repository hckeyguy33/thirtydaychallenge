<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"/>
    <link rel="stylesheet" type="text/css" href="index.css">
    <title>CtrlBar</title>
  </head>
    <body>
      <div class="container">
        <div class="popover">
          <div class="header">
            <h1>CtrlBar</h1>
          </div>
          <div class="form">
            <button class="relay" id="relay-1" onclick="return socket_send('relay-1');">Garage</button>
            <button class="relay" id="relay-2" onclick="return socket_send('relay-2');">Light</button>
            <button class="sensor" id="garage-sensor">Garage</button>
          </div>
          <div class="menu">
            <a class="config" href="#" onclick="return config();">&nbsp;</a>
          </div>
        </div>
      </div>
  </body>
  <script>
    const ipcRenderer = require('electron').ipcRenderer;
    function config() {
      // const ipcRenderer = require('electron').ipcRenderer;
      ipcRenderer.send('show-config-menu');
    }
    function socket_send(msg) {
      ipcRenderer.send('socket-send', msg);
    }
    ipcRenderer.send('register-listener', 'status');
    ipcRenderer.on('status', function (event, arg) {
      document.getElementById('garage-sensor').addClass(arg);
    });
  </script>
</html>
